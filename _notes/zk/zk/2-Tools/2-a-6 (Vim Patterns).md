# Vim Patterns

## 特殊操作

> [!NOTE] \c与\C
> 使用元字符 \c 与 \C，可以覆盖Vim缺省的大小写敏感性设置。小写字母 \c 会让查找模式忽略大小写，而大写字母 \C会强制区分大小写。
> \cfoo  = foo Foo FOO
> foo\C = foo
> 这两个元字符可以出现在模式的任意位置。假设已输入了完整的模式，却发现需要按区分大小写的方式进行查找。此时，只需在模式的结尾加上 \C ，该元字符就会作用于整个模式。

> [!NOTE] \v
> 可以利用 \v模式开关来统一所有特殊符号的规则。该元字符将会激活 very magic搜索模式，即假定除_、大小写字母以及数字0～9之外的所有字符都具有特殊含义（参见 :h \v ）。

| 模式                                  | 说明                                    |
| ----------------------------------- | ------------------------------------- |
| #([0-9a-fA-F]{6}\｜[0-9a- fA-F]{3})  | 使用magic搜索模式时，必须转义 ( )｜{ 字符， 赋予它们特殊的含义 |
| \v#([0-9a-fA-F]{6}｜[0-9a- fA-F]{3}) | 使用 \v模式开关后，( )｜{ 字符会表现出特殊含义           |
| \v#(\x{6}｜\x{3})                    | 使用 \x 字符类代替 [0-9A-Fa-f] ，可以进一步精简表达式   |

> [!NOTE] \V
> \V会使得其后的模式中只有反斜杠有特殊的意义，其可以消除附加在 .、* 以及 ? 等大多数字符上的特殊含义。
> /a\.k\.a\. = \Va.k.a.
> 在 very nomagic(即\V)搜索模式下创建正则表达式也不是不可能，不过会很别扭，因为必须为每个符号转义。作为通用法则，如果想按正则表达式查找，就用模式开关 \v，而如果想按原义查找文本，就用原义开关 \V。

> [!NOTE] 正向查找时要转义 / 字符，反向查找时要转义?号。反斜杠字符永远都需要转义，无论采用的是正向还是反向查找方式
> [查找域结束符](../../../files/books/Tools/Vim.pdf#page=305&selection=113,0,113,6)
> [转义问题字符](../../../files/books/Tools/Vim.pdf#page=302&selection=3,0,3,6)

## 正则表达式

> [!NOTE] 圆括号
> 任何圆括号内部的匹配文本都会自动保存到一个临时的仓库。可以用\1引用这段被捕获的文本。如果模式中包含不止一组圆括号，则可以用\1、\2，直到 \9，引用被每对 () 捕获的子匹配。另外，不论模式中是否使用了圆括号，元字符 \0永远会引用整个匹配。

> [!NOTE] 界定单词的边界
> 在 very magic搜索模式下，用 < 与 > 符号表示单词定界符。

> [!example]
> [界定单词的边界](../../../files/books/Tools/Vim.pdf#page=298&selection=9,0,9,23)
> [圆括号与单词边界](../../../files/books/Tools/Vim.pdf#page=296&selection=30,0,30,21)
> [使用圆括号，但不捕获其内容](../../../files/books/Tools/Vim.pdf#page=298&selection=91,0,91,13)
> [使用子匹配重排CSV文件的字段](../../../files/books/Tools/Vim.pdf#page=350&selection=3,0,5,5)

> [!NOTE] 界定模式匹配的边界
> Vim中的元字符 \zs与 \ze可以帮助我们界定匹配的边界。

> [!example]
> 用一个示例可以帮助大家理解这一点。如果查找 /Practical Vim\<CR>，文档中所有出现“Practical Vim”的地方都会被高亮起来。一旦将查找模式改为 /Practical \zsVim\<CR>，则只有单词“Vim”会被高亮，而单词“Practical”会被排除于匹配之外，但它仍是模式的一部分。这样一来，只有紧跟着单词“Practical”的“Vim”才会被高亮，其他前面不是“Practical”的“Vim”则不会被匹配。这与通过 /Vim\<CR> 命令进行简单查找的结果有很大不同。

更多有关正则表达式的内容请见:![2-e (正则表达式)](2-e%20(正则表达式).md)



