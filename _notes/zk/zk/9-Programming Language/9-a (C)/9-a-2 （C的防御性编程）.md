# C的防御性编程

> [!NOTE] 审计
> - 查看你定义的每个函数，一次一个文件。
> - 在每个函数的最上面，添加`assert`来保证参数正确。
> - 浏览函数的每一行，找到所调用的任何函数。阅读它们的文档，确认它们在错误下返回什么，之后添加另一个断言来检查错误是否发生。函数在调用`calloc`之后应该进行`assert(ptr != NULL)`的检查。
> - 如果函数应该返回一个值，最坏情况下也要确保它返回了一个错误值（比如`NULL`），或者添加一个断言来确保返回值是有效的。
> - 对于每个你编写的`if`语句，确保都有对应的`else`语句，除非它用于错误检查并退出。
> - 对于每个你编写的`switch`语句，确保都有一个`default`分支，来处理非预期的任何情况。

[Learn C -创造性和防御性编程](https://wizardforcel.gitbooks.io/lcthw/content/ex27.html)

